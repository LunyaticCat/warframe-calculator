<!DOCTYPE html>

<html lang="en">
	<head>
        <script src="https://cdn.plot.ly/plotly-2.30.0.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    </head>
    
	<body>
        <div>
            <button onclick="changeStats()">Update Stats</button>
        </div>

        <div id="plotly" style="width:400px;height:500px;"></div>
        <script>
            const colors = {
                "gas":          "rgb(25, 120, 50)",
                "toxin":        "rgb(130, 200, 90)",
                "electricity":  "rgb(40, 190, 250)",
                "heat":         "rgb(240, 130, 40)",
                "slash":        "rgb(150, 0, 0)",
                "damage":       "rgb(120, 120, 120)",
            };

            const labels = {
                slash:"slash DoT", 
                heat:"heat DoT", electricity:"electricity DoT",
                toxin: "toxin DoT", gas: "gas DoT"
            };
        
            changeStats()
			function changeStats() {
                const chart = document.getElementById('plotly');
                const configDefault = {
                    type: 'bar',
                    orientation: 'h',
                    hovertemplate: '%{x:.3f}s - %{y:.3s}',
                    // transforms: [{
                    //     type: 'filter',
                    //     target: 'y',
                    //     operation: '>',
                    //     value: 0
                    // }]
                }

                data = {
                    "slash": 10,
                    "heat": 1,
                    "toxin": 7,
                    "gas": 6,
                    "corrosive": 5,
                    "impact": 2,
                    "radioactive": 7,
                    "electricity": 5,
                    "cold": 6,
                    "viral": 0,
                    "puncture": 1,
                    "void":5,
                };

                const plotlyData = [{
                    x: Object.values(data),
                    y: Object.keys(data),
                    type: 'bar',
                    orientation: 'h',
                    marker:{
                        color: Object.keys(data).map(k => colors[k]),
                    },
                }];
                
                var layout = {
                    showlegend: false,
                    //xaxis: {range: [0, 10]},
                    bargap:0,
                    margin: {
                        b: 15,
                        l: 0,
                        r: 0,
                        t: 0,
                        automargin: true,
                    }
                };

                Plotly.newPlot(chart, plotlyData, layout, {
                    displayModeBar: false,
                });
            };
        </script>
    </body>
</html>